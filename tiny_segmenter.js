// TinySegmenter 0.1.0 -- Super compact Japanese tokenizer in JavaScript
// (c) 2008 Taku Kudo <taku@chasen.org>
// TinySegmenter is freely distributable under the terms of the new BSD licence.

var TinySegmenter = (function() {
  var patterns = {
    "[一二三四五六七八九十百千万億兆]":"M",
    "[一-龠々〆ヵヶ]":"H",
    "[ぁ-ん]":"I",
    "[ァ-ヴーｱ-ﾝﾞｰ]":"K",
    "[a-zA-Zａ-ｚＡ-Ｚ]":"A",
    "[0-9０-９]":"N"
  }
  var chartype = new RegExp("(" + Object.keys(patterns).join("|") + ")");
  var BIAS__ = -332
  var BC1__ = {"HH":6,"II":2461,"KH":406,"OH":-1378};
  var BC2__ = {"AA":-3267,"AI":2744,"AN":-878,"HH":-4070,"HM":-1741,"HN":4049,"HO":2960,"IA":1327,"IH":-1184,"II":-1332,"IK":1721,"IO":5492,"KH":1050,"KK":-3908,"MH":-3132,"MK":1084,"OO":-2993};
  var BC3__ = {"HH":996,"HI":626,"HK":-721,"HN":-1307,"HO":-836,"IH":-301,"KK":2762,"MK":1079,"MM":4034,"OA":-1652,"OH":266};
  var BP1__ = {"BB":295,"EB":296,"GB":308,"HB":280,"HC":-743,"HD":1,"HE":1826,"HG":-689,"HP":45,"HR":119,"IB":148,"JB":69,"KB":-1930,"KB":408,"OB":266,"PB":-48,"RB":4,"SB":-347,"TB":97,"UB":4};
  var BP2__ = {"BO":580,"OO":-3422};
  var BQ1__ = {"BHH":1150,"BHM":1521,"BII":-1158,"BIM":886,"BMH":1208,"BNH":449,"BOH":74,"BOO":-1253,"OHH":379,"OIH":-431,"OKH":880,"OOH":2084,"RHH":2184,"RKH":3704,"RRH":2655};
  var BQ2__ = {"BHH":118,"BHI":-1159,"BHM":466,"BIH":924,"BKK":-1720,"BKO":864,"OHH":-1139,"OHM":-181,"OIH":153,"UHH":1146};
  var BQ3__ = {"BHH":-792,"BHI":2664,"BII":-299,"BKI":419,"BMH":937,"BMM":8335,"BNN":998,"BOH":775,"OHH":2174,"OHM":4390,"OIH":823,"OKH":8900,"OOH":6009,"RHH":244,"RKH":1222,"RRH":470};
  var BW1__ = {",と":660,",同":727,"B1あ":1404,"B1同":542,"B1差":-628,"B1被":1311,"B1X":598,"B1Xで":210,"B1Xに":897,"B1Xを":1629,"B1を":1306,"B1を著":543,"B1を調":498,"B1を説":263,"B2と":826,"B2とし":795,"B2と退":197,"B2と選":-237,"B2とX":-219,"B2や":-160,"B2を":-1319,"B2を進":1640,"Bが":3281,"Bで":386,"Bに":-1296,"Bのに":-1506,"Bので":2124,"Bので":1009,"BのX":1044,"Bは":1985,"Bはに":-743,"Bへ":1725,"Bべ":1062,"Bより":-2794,"BB":465,"Bだ":1286,"Bだっ":1286,"Bに":-1296,"Bのに":-1506,"Bので":2124,"Bので":1009,"BのX":1044,"Bは":1985,"Bはに":-743,"Bへ":1725,"Bべ":1062,"Bより":-2794,"C1と":1163,"C1とし":846,"C1とし":846,"C1と退":294,"C1と選":-370,"C1とX":-263,"C1や":-167,"C1を":-1648,"C1を進":1847,"C1を進":1847,"C2と":1416,"C2とし":1111,"C2と退":309,"C2と選":-290,"C2とX":-241,"C2や":-134,"C2を":-1648,"C2を進":1847,"C2を進":1847,"Cが":4064,"Cで":554,"Cに":-1186,"Cのに":-1545,"Cので":2372,"Cので":1258,"CのX":1208,"Cは":2102,"Cはに":-714,"Cへ":1822,"Cべ":1062,"Cより":-2669,"CB":762,"Cだ":1428,"Cだっ":1428,"Cに":-1186,"Cのに":-1545,"Cので":2372,"Cので":1258,"CのX":1208,"Cは":2102,"Cはに":-714,"Cへ":1822,"Cべ":1062,"Cより":-2669,"D1と":1603,"D1とし":1133,"D1と退":363,"D1と選":-421,"D1とX":-333,"D1や":-232,"D1を":-1654,"D1を進":2214,"D1を進":2214,"D2と":1656,"D2とし":1195,"D2と退":402,"D2と選":-421,"D2とX":-333,"D2や":-232,"D2を":-1654,"D2を進":2214,"D2を進":2214,"Dが":4342,"Dで":748,"Dに":-1203,"Dのに":-1540,"Dので":2376,"Dので":1284,"DのX":1241,"Dは":2264,"Dはに":-714,"Dへ":1965,"Dべ":1062,"Dより":-2650,"DB":952,"Dだ":1543,"Dだっ":1543,"Dに":-1203,"Dのに":-1540,"Dので":2376,"Dので":1284,"DのX":1241,"Dは":2264,"Dはに":-714,"Dへ":1965,"Dべ":1062,"Dより":-2650,"Eと":-325,"Eとし":-569,"Eと退":164,"Eと選":-321,"EとX":-178,"Eや":-287,"Eを":-1009,"Eを進":738,"Eを進":738,"Fが":-396,"Fで":498,"Fに":-401,"Fのに":-1350,"Fので":1911,"Fので":837,"FのX":1034,"Fは":2009,"Fはに":-578,"Fへ":1560,"Fべ":1062,"Fより":-2424,"FB":106,"Fだ":776,"Fだっ":776,"Gと":-308,"Gとし":-572,"Gと退":142,"Gと選":-287,"GとX":-225,"Gや":-305,"Gを":-896,"Gを進":609,"Gを進":609,"Gが":1202,"Gで":609,"Gに":-450,"Gのに":-1379,"Gので":2036,"Gので":1061,"GのX":1266,"Gは":2184,"Gはに":-478,"Gへ":1630,"Gべ":1062,"Gより":-2405,"GB":443,"Gだ":1440,"Gだっ":1440,"Hと":-436,"Hとし":-645,"Hと退":116,"Hと選":-388,"HとX":-280,"Hや":-343,"Hを":-1005,"Hを進":609,"Hを進":609,"Hが":-405,"Hで":506,"Hに":-295,"Hのに":-1297,"Hので":2011,"Hので":1012,"HのX":1118,"Hは":2001,"Hはに":-508,"Hへ":1545,"Hべ":1062,"Hより":-2418,"HB":296,"Hだ":804,"Hだっ":804,"Iと":-417,"Iとし":-643,"Iと退":110,"Iと選":-406,"IとX":-265,"Iや":-302,"Iを":-1005,"Iを進":609,"Iを進":609,"Iが":-405,"Iで":506,"Iに":-295,"Iのに":-1297,"Iので":2011,"Iので":1012,"IのX":1118,"Iは":2001,"Iはに":-508,"Iへ":1545,"Iべ":1062,"Iより":-2418,"IB":354,"Iだ":804,"Iだっ":804,"Jと":-350,"Jとし":-608,"Jと退":118,"Jと選":-421,"JとX":-289,"Jや":-298,"Jを":-1005,"Jを進":609,"Jを進":609,"Jが":-405,"Jで":506,"Jに":-295,"Jのに":-1297,"Jので":2011,"Jので":1012,"JのX":1118,"Jは":2001,"Jはに":-508,"Jへ":1545,"Jべ":1062,"Jより":-2418,"JB":354,"Jだ":804,"Jだっ":804,"Kと":-294,"Kとし":-549,"Kと退":100,"Kと選":-384,"KとX":-296,"Kや":-283,"Kを":-1005,"Kを進":609,"Kを進":609,"Kが":-405,"Kで":506,"Kに":-295,"Kのに":-1297,"Kので":2011,"Kので":1012,"KのX":1118,"Kは":2001,"Kはに":-508,"Kへ":1545,"Kべ":1062,"Kより":-2418,"KB":374,"Kだ":804,"Kだっ":804,"Lと":-244,"Lとし":-514,"Lと退":71,"Lと選":-373,"LとX":-280,"Lや":-268,"Lを":-1005,"Lを進":609,"Lを進":609,"Lが":-405,"Lで":506,"Lに":-295,"Lのに":-1297,"Lので":2011,"Lので":1012,"LのX":1118,"Lは":2001,"Lはに":-508,"Lへ":1545,"Lべ":1062,"Lより":-2418,"LB":394,"Lだ":804,"Lだっ":804,"Mと":-196,"Mとし":-469,"Mと退":55,"Mと選":-361,"MとX":-296,"Mや":-255,"Mを":-1005,"Mを進":609,"Mを進":609,"Mが":-405,"Mで":506,"Mに":-295,"Mのに":-1297,"Mので":2011,"Mので":1012,"MのX":1118,"Mは":2001,"Mはに":-508,"Mへ":1545,"Mべ":1062,"Mより":-2418,"MB":414,"Mだ":804,"Mだっ":804,"Nと":-149,"Nとし":-423,"Nと退":30,"Nと選":-321,"NとX":-312,"Nや":-242,"Nを":-1005,"Nを進":609,"Nを進":609,"Nが":-405,"Nで":506,"Nに":-295,"Nのに":-1297,"Nので":2011,"Nので":1012,"NのX":1118,"Nは":2001,"Nはに":-508,"Nへ":1545,"Nべ":1062,"Nより":-2418,"NB":434,"Nだ":804,"Nだっ":804,"Oと":-102,"Oとし":-377,"Oと退":5,"Oと選":-281,"OとX":-327,"Oや":-229,"Oを":-1005,"Oを進":609,"Oを進":609,"Oが":-405,"Oで":506,"Oに":-295,"Oのに":-1297,"Oので":2011,"Oので":1012,"OのX":1118,"Oは":2001,"Oはに":-508,"Oへ":1545,"Oべ":1062,"Oより":-2418,"OB":454,"Oだ":804,"Oだっ":804,"Pと":-75,"Pとし":-331,"Pと退":-5,"Pと選":-240,"PとX":-329,"Pや":-216,"Pを":-1005,"Pを進":609,"Pを進":609,"Pが":-405,"Pで":506,"Pに":-295,"Pのに":-1297,"Pので":2011,"Pので":1012,"PのX":1118,"Pは":2001,"Pはに":-508,"Pへ":1545,"Pべ":1062,"Pより":-2418,"PB":474,"Pだ":804,"Pだっ":804,"Qと":-48,"Qとし":-285,"Qと退":-15,"Qと選":-199,"QとX":-329,"Qや":-203,"Qを":-1005,"Qを進":609,"Qを進":609,"Qが":-405,"Qで":506,"Qに":-295,"Qのに":-1297,"Qので":2011,"Qので":1012,"QのX":1118,"Qは":2001,"Qはに":-508,"Qへ":1545,"Qべ":1062,"Qより":-2418,"QB":494,"Qだ":804,"Qだっ":804,"Rと":-33,"Rとし":-252,"Rと退":-18,"Rと選":-161,"RとX":-329,"Rや":-192,"Rを":-1005,"Rを進":609,"Rを進":609,"Rが":-405,"Rで":506,"Rに":-295,"Rのに":-1297,"Rので":2011,"Rので":1012,"RのX":1118,"Rは":2001,"Rはに":-508,"Rへ":1545,"Rべ":1062,"Rより":-2418,"RB":514,"Rだ":804,"Rだっ":804,"Sと":-18,"Sとし":-219,"Sと退":-21,"Sと選":-123,"SとX":-329,"Sや":-181,"Sを":-1005,"Sを進":609,"Sを進":609,"Sが":-405,"Sで":506,"Sに":-295,"Sのに":-1297,"Sので":2011,"Sなので":1012,"SのX":1118,"Sは":2001,"Sはに":-508,"Sへ":1545,"Sべ":1062,"Sより":-2418,"SB":534,"Sだ":804,"Sだっ":804,"Tと":-3,"Tとし":-186,"Tと退":-24,"Tと選":-85,"TとX":-329,"Tや":-170,"Tを":-1005,"Tを進":609,"Tを進":609,"Tが":-405,"Tで":506,"Tに":-295,"Tのに":-1297,"Tので":2011,"Tので":1012,"TのX":1118,"Tは":2001,"Tはに":-508,"Tへ":1545,"Tべ":1062,"Tより":-2418,"TB":554,"Tだ":804,"Tだっ":804,"Uと":12,"Uとし":-153,"Uと退":-27,"Uと選":-47,"UとX":-329,"Uや":-159,"Uを":-1005,"Uを進":609,"Uを進":609,"Uが":-405,"Uで":506,"Uに":-295,"Uのに":-1297,"Uので":2011,"Uなので":1012,"UのX":1118,"Uは":2001,"Uはに":-508,"Uへ":1545,"Uべ":1062,"Uより":-2418,"UB":574,"Uだ":804,"Uだっ":804,"Vと":27,"Vとし":-120,"Vと退":-30,"Vと選":-9,"VとX":-329,"Vや":-148,"Vを":-1005,"Vを進":609,"Vを進":609,"Vが":-405,"Vで":506,"Vに":-295,"Vのに":-1297,"Vので":2011,"Vなので":1012,"VのX":1118,"Vは":2001,"Vはに":-508,"Vへ":1545,"Vべ":1062,"Vより":-2418,"VB":594,"Vだ":804,"Vだっ":804,"Wと":42,"Wとし":-87,"Wと退":-33,"Wと選":29,"WとX":-329,"Wや":-137,"Wを":-1005,"Wを進":609,"Wを進":609,"Wが":-405,"Wで":506,"Wに":-295,"Wのに":-1297,"Wので":2011,"Wなので":1012,"WのX":1118,"Wは":2001,"Wはに":-508,"Wへ":1545,"Wべ":1062,"Wより":-2418,"WB":614,"Wだ":804,"Wだっ":804,"Xと":57,"Xとし":-54,"Xと退":-36,"Xと選":67,"XとX":-329,"Xや":-126,"Xを":-1005,"Xを進":609,"Xを進":609,"Xが":-405,"Xで":506,"Xに":-295,"Xのに":-1297,"Xなので":2011,"Xなので":1012,"XのX":1118,"Xは":2001,"Xはに":-508,"Xへ":1545,"Xべ":1062,"Xより":-2418,"XB":634,"Xだ":804,"Xだっ":804,"Yと":72,"Yとし":-21,"Yと退":-39,"Yと選":105,"YとX":-329,"Yや":-115,"Yを":-1005,"Yを進":609,"Yを進":609,"Yが":-405,"Yで":506,"Yに":-295,"Yのに":-1297,"Yなので":2011,"Yなので":1012,"YのX":1118,"Yは":2001,"Yはに":-508,"Yへ":1545,"Yべ":1062,"Yより":-2418,"YB":654,"Yだ":804,"Yだっ":804,"Zと":87,"Zとし":12,"Zと退":-42,"Zと選":143,"ZとX":-329,"Zや":-104,"Zを":-1005,"Zを進":609,"Zを進":609,"Zが":-405,"Zで":506,"Zに":-295,"Zのに":-1297,"Zなので":2011,"Zなので":1012,"ZのX":1118,"Zは":2001,"Zはに":-508,"Zへ":1545,"Zべ":1062,"Zより":-2418,"ZB":674,"Zだ":804,"Zだっ":804};
  var BW2__ = {",か":-124,",が":1058,"った":1852,"って":1647,"て":1108,"て":647,"で":307,"と":648,"と":198,"に":-773,"に":-121,"の":1708,"の":1096,"は":2310,"も":688,"も":186,"を":-842,"を":-452,"る":598,"る":191,"ん":527,"ん":96,"を":-842,"を":-452};
  var BW3__ = {",か":-124,",が":1058,"った":1852,"って":1647,"て":1108,"て":647,"で":307,"と":648,"と":198,"に":-773,"に":-121,"の":1708,"の":1096,"は":2310,"も":688,"も":186,"を":-842,"を":-452,"る":598,"る":191,"ん":527,"ん":96,"を":-842,"を":-452};
  var TW1__ = {"を":898,"に":341,"に":341,"は":855,"を":898,"が":860,"で":828,"て":794,"た":780,"と":743,"が":860,"で":828,"て":794,"た":780,"と":743,"に":341,"に":341,"は":855,"を":898,"が":860,"で":828,"て":794,"た":780,"と":743,"が":860,"で":828,"て":794,"た":780,"と":743};
  var TW2__ = {"を":-842,"に":-773,"に":-773,"は":2310,"を":-842,"が":1058,"で":307,"て":1108,"った":1852,"と":648,"が":1058,"で":307,"て":1108,"った":1852,"と":648,"に":-773,"に":-773,"は":2310,"を":-842,"が":1058,"で":307,"て":1108,"った":1852,"と":648,"が":1058,"で":307,"て":1108,"った":1852,"と":648};
  var TW3__ = {"を":-452,"に":-121,"に":-121,"も":688,"を":-452,"も":186,"で":647,"って":1647,"て":647,"と":198,"も":186,"で":647,"って":1647,"て":647,"と":198,"に":-121,"に":-121,"も":688,"を":-452,"も":186,"で":647,"って":1647,"て":647,"と":198,"も":186,"で":647,"って":1647,"て":647,"と":198};
  var TC1__ = {"AAA":-1083,"HHH":598,"HHM":339,"HII":1828,"HOH":-752,"IHH":789,"IHO":195,"IIH":656,"III":2469,"IOH":172,"OHH":589,"OIH":-449,"OOH":117,"XHH":796};
  var TC2__ = {"HHO":2084,"IHI":-316,"OII":-668,"XHI":197};
  var TC3__ = {"HHH":556,"IIH":1132};
  var TQ1__ = {"HHH":529,"HHM":455,"HIH":656,"HII":1246,"HOH":997,"IHI":1896,"IHH":1225,"IIH":757,"III":1919,"OOH":786};
  var TQ2__ = {"HHH":248,"HIH":1046,"IIH":250,"XHI":465};
  var TQ3__ = {"HHH":148,"HIH":2321,"IIH":100,"XHI":598};
  var TD1__ = {"HH":263,"HI":976,"II":-452,"OHH":221,"OO":-305,"XH":271};
  var TD2__ = {"HH":-224,"HI":765,"II":-542,"XH":241};
  var TD3__ = {"HH":77,"HI":230,"II":-511,"XH":68};
  var TM1__ = {",":1132,"、":1132,"「":-1320,"」":1320,"と":1279,"に":1616,"に":1616,"も":1403,"も":1403,"は":1294,"が":1505,"が":1505,"で":1400,"で":1400,"て":1381,"て":1381,"た":1221,"た":1221,"と":1279,"に":1616,"に":1616,"も":1403,"も":1403,"は":1294,"が":1505,"が":1505,"で":1400,"で":1400,"て":1381,"て":1381,"た":1221,"た":1221,"が":1505,"で":1400,"て":1381,"た":1221,"と":1279,"に":1616,"に":1616,"も":1403,"も":1403,"は":1294,"が":1505,"が":1505,"で":1400,"で":1400,"て":1381,"て":1381,"た":1221,"た":1221,"と":1279,"に":1616,"に":1616,"も":1403,"も":1403,"は":1294,"が":1505,"が":1505,"で":1400,"で":1400,"て":1381,"て":1381,"た":1221,"た":1221,"が":1505,"で":1400,"て":1381,"た":1221,"と":1279,"に":1616,"に":1616,"も":1403,"も":1403,"は":1294,"が":1505,"が":1505,"で":1400,"で":1400,"て":1381,"て":1381,"た":1221,"た":1221};
  var TM2__ = {",":-917,"、":-917,"「":85,"」":-85,"と":-425,"に":-359,"に":-359,"も":-89,"も":-89,"は":-31,"が":178,"が":178,"で":105,"で":105,"て":226,"て":226,"た":-77,"た":-77,"と":-425,"に":-359,"に":-359,"も":-89,"も":-89,"は":-31,"が":178,"が":178,"で":105,"で":105,"て":226,"て":226,"た":-77,"た":-77,"が":178,"で":105,"て":226,"た":-77,"と":-425,"に":-359,"に":-359,"も":-89,"も":-89,"は":-31,"が":178,"が":178,"で":105,"で":105,"て":226,"て":226,"た":-77,"た":-77,"と":-425,"に":-359,"に":-359,"も":-89,"も":-89,"は":-31,"が":178,"が":178,"で":105,"で":105,"て":226,"て":226,"た":-77,"た":-77,"が":178,"で":105,"て":226,"た":-77,"と":-425,"に":-359,"に":-359,"も":-89,"も":-89,"は":-31,"が":178,"が":178,"で":105,"で":105,"て":226,"て":226,"た":-77,"た":-77};
  var TM3__ = {",":1689,"、":1689,"「":-1681,"」":1681,"と":653,"に":556,"に":556,"も":1314,"も":1314,"は":1453,"が":2386,"が":2386,"で":2455,"で":2455,"て":1735,"て":1735,"た":2275,"た":2275,"と":653,"に":556,"に":556,"も":1314,"も":1314,"は":1453,"が":2386,"が":2386,"で":2455,"で":2455,"て":1735,"て":1735,"た":2275,"た":2275,"が":2386,"で":2455,"て":1735,"た":2275,"と":653,"に":556,"に":556,"も":1314,"も":1314,"は":1453,"が":2386,"が":2386,"で":2455,"で":2455,"て":1735,"て":1735,"た":2275,"た":2275,"と":653,"に":556,"に":556,"も":1314,"も":1314,"は":1453,"が":2386,"が":2386,"で":2455,"で":2455,"て":1735,"て":1735,"た":2275,"た":2275,"が":2386,"で":2455,"て":1735,"た":2275,"と":653,"に":556,"に":556,"も":1314,"も":1314,"は":1453,"が":2386,"が":2386,"で":2455,"で":2455,"て":1735,"て":1735,"た":2275,"た":2275};
  var UC1__ = {"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"で":473,"で":473,"て":601,"て":601,"た":558,"た":558,"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"で":473,"で":473,"て":601,"て":601,"た":558,"た":558,"が":429,"で":473,"て":601,"た":558,"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"が":429,"で":473,"で":473,"て":601,"て":601,"た":558,"た":558,"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"で":473,"て":601,"た":558,"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"で":473,"で":473,"て":601,"て":601,"た":558,"た":558,"が":429,"で":473,"て":601,"た":558,"と":281,"と":281,"に":320,"に":320,"は":221,"も":263,"が":429,"で":473,"で":473,"て":601,"て":601,"た":558,"た":558};
  var UC2__ = {"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"で":234,"で":234,"て":-117,"て":-117,"た":-33,"た":-33,"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"で":234,"で":234,"て":-117,"て":-117,"た":-33,"た":-33,"が":467,"で":234,"て":-117,"た":-33,"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"が":467,"で":234,"で":234,"て":-117,"て":-117,"た":-33,"た":-33,"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"で":234,"て":-117,"た":-33,"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"で":234,"で":234,"て":-117,"て":-117,"た":-33,"た":-33,"が":467,"で":234,"て":-117,"た":-33,"と":-530,"と":-530,"に":-408,"に":-408,"は":-453,"も":-227,"が":467,"で":234,"で":234,"て":-117,"て":-117,"た":-33,"た":-33};
  var UC3__ = {"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"で":1649,"で":1649,"て":1735,"て":1735,"た":2275,"た":2275,"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"で":1649,"で":1649,"て":1735,"て":1735,"た":2275,"た":2275,"が":1644,"で":1649,"て":1735,"た":2275,"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"が":1644,"で":1649,"で":1649,"て":1735,"て":1735,"た":2275,"た":2275,"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"で":1649,"て":1735,"た":2275,"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"で":1649,"で":1649,"て":1735,"て":1735,"た":2275,"た":2275,"が":1644,"で":1649,"て":1735,"た":2275,"と":263,"と":263,"に":616,"に":616,"は":556,"も":1297,"が":1644,"で":1649,"で":1649,"て":1735,"て":1735,"た":2275,"た":2275};
  var UQ1__ = {"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22};
  var UQ2__ = {"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22};
  var UQ3__ = {"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22,"が":-219,"に":-199,"は":-127,"も":-60,"で":-66,"て":-45,"と":-25,"た":-22};
  var UD1__ = {"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642};
  var UD2__ = {"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642};
  var UD3__ = {"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642,"が":1404,"に":-1398,"は":-1589,"も":-548,"で":1267,"て":1278,"と":969,"た":1642};

  function ctype_(c) {
    for (var p in patterns) {
      if (c.match(p)) {
        return patterns[p];
      }
    }
    return "O";
  }

  function ts_(token) {
    if (token === undefined) {
      return "";
    }
    return token;
  }

  function segment(sentence) {
    if (typeof sentence !== "string") {
      return [];
    }

    var result = [];
    var seg = ["B3", "B2", "B1"];
    var ctype = ["O", "O", "O"];
    var o = sentence.split("");
    for (var i = 0; i < o.length; ++i) {
      seg.push(o[i]);
      ctype.push(ctype_(o[i]));
    }
    seg.push("E1");
    seg.push("E2");
    seg.push("E3");
    ctype.push("O");
    ctype.push("O");
    ctype.push("O");
    var word = seg[3];
    var p1 = "U";
    var p2 = "U";
    var p3 = "U";
    for (var i = 4; i < seg.length - 3; ++i) {
      var score = BIAS__;
      var w1 = seg[i - 3];
      var w2 = seg[i - 2];
      var w3 = seg[i - 1];
      var w4 = seg[i];
      var w5 = seg[i + 1];
      var w6 = seg[i + 2];
      var c1 = ctype[i - 3];
      var c2 = ctype[i - 2];
      var c3 = ctype[i - 1];
      var c4 = ctype[i];
      var c5 = ctype[i + 1];
      var c6 = ctype[i + 2];
      score += ts_(UP1__[p1]);
      score += ts_(UP2__[p2]);
      score += ts_(UP3__[p3]);
      score += ts_(BP1__[p1 + p2]);
      score += ts_(BP2__[p2 + p3]);
      score += ts_(UQ1__[p1 + p2 + p3]);
      score += ts_(UQ2__[p2 + p3 + c1]);
      score += ts_(UQ3__[p3 + c1 + c2]);
      score += ts_(BW1__[w1 + w2]);
      score += ts_(BW2__[w2 + w3]);
      score += ts_(BW3__[w3 + w4]);
      score += ts_(TW1__[w1 + w2 + w3]);
      score += ts_(TW2__[w2 + w3 + w4]);
      score += ts_(TW3__[w3 + w4 + w5]);
      score += ts_(TC1__[c1 + c2 + c3]);
      score += ts_(TC2__[c2 + c3 + c4]);
      score += ts_(TC3__[c3 + c4 + c5]);
      score += ts_(UC1__[c1 + c2 + c3]);
      score += ts_(UC2__[c2 + c3 + c4]);
      score += ts_(UC3__[c3 + c4 + c5]);
      score += ts_(UD1__[c1 + c2 + c3]);
      score += ts_(UD2__[c2 + c3 + c4]);
      score += ts_(UD3__[c3 + c4 + c5]);
      var p = "O";
      if (score > 0) {
        result.push(word);
        word = "";
        p = "B";
      }
      p1 = p2;
      p2 = p3;
      p3 = p;
      word += seg[i];
    }
    result.push(word);
    return result;
  }

  return {
    segment: segment
  };
})();

// Export for Node.js or browser
if (typeof module !== 'undefined' && module.exports) {
  module.exports = TinySegmenter;
} else if (typeof window !== 'undefined') {
  window.TinySegmenter = TinySegmenter;
}